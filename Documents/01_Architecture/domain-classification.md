# Eedeシステム ドメイン分類結果

## 分類結果: Core

### 判定理由

*   **ドット絵の作成と編集 (Eedeシステムのコアドメイン)**
    *   ビジネス価値: Eedeシステムの存在意義であり、製品の主要な差別化要素。
    *   代替可能性: ピクセル単位の厳密な操作、限られた色数での表現、拡大表示による詳細編集は、汎用的な画像編集ツールでは代替が困難。
    *   ドメイン知識: ドット絵特有の描画アルゴリズム、パレット管理、ピクセルデータの不変性など、固有の業務ロジックが豊富。
    *   他機能との関係: 全ての機能の中心であり、他の全ての機能がこれを支援するか、これによって支援される。
    *   変更影響度: このドメインの変更はプロダクト全体に甚大な影響を与える。

*   **描画ドメイン (Drawing Context)**
    *   ビジネス価値: ドット絵の「描く」という中核機能であり、製品の主要な差別化要素。
    *   代替可能性: ピクセル単位の厳密な描画スタイルはドット絵に特化しており、汎用ツールでは代替しにくい。
    *   ドメイン知識: `DrawStyle` や `DrawingBuffer` など、ドット絵特有の描画ロジックが含まれる。
    *   他機能との関係: `Picture` エンティティを直接操作し、画像操作ドメインやカラー管理ドメインと密接に連携。
    *   変更影響度: 描画機能の変更は、ユーザー体験に直接影響し、プロダクト全体に大きな影響を与える。

*   **画像操作ドメイン (Picture Context)**
    *   ビジネス価値: `Picture` の不変性によるアンドゥ/リドゥの容易さやピクセルデータの整合性保証は、ドット絵編集の信頼性と操作性を高める重要な要素。
    *   代替可能性: `Picture` の不変性モデルはドット絵特有の要件から来ており、汎用的な画像ライブラリではこのレベルの整合性保証は難しい。
    *   ドメイン知識: `PictureAction` など、ドット絵の全体的な変形や調整に関する固有のロジックが含まれる。
    *   他機能との関係: 描画ドメインや画像変換・処理ドメインの基盤となる。
    *   変更影響度: `Picture` はシステムの中心エンティティであり、その変更は広範囲に影響する。

*   **カラー管理ドメイン (Color Management Context)**
    *   ビジネス価値: 限られた色数での表現はドット絵の美学と制約そのものであり、パレット管理は製品の独自性を高める。
    *   代替可能性: 汎用的なカラーピッカーやパレット機能は存在するが、ドット絵特有のパレットインデックスや厳選されたパレットの管理は代替が難しい。
    *   ドメイン知識: `Palette`, `ArgbColor`, `HsvColor` など、色表現とパレット管理に関する固有の知識が含まれる。
    *   他機能との関係: 描画、画像処理、UIの各コンテキストで共通して利用される「共有カーネル」。
    *   変更影響度: 色の表現は描画結果に直接影響し、システム全体に影響を与える。

## 分類結果: Supporting

### 判定理由

*   **画像変換・処理サブドメイン (Image Processing Context)**
    *   ビジネス価値: 減色処理、パレット変換、Nearest Neighborなどの拡大アルゴリズムは、ドット絵の品質と表現を維持・向上させるために不可欠。製品の品質を支える重要な要素。
    *   代替可能性: 汎用的な画像処理ライブラリにも同様の機能はあるが、ドット絵特有の品質維持やアルゴリズム選択はカスタマイズが必要。部分的に代替可能だが、完全にフィットするものは少ない。
    *   ドメイン知識: ドット絵の特性を考慮した画像合成や変換ロジックが含まれる。
    *   他機能との関係: 描画結果を処理し、ファイル出力にも影響する。描画ドメインと密接な「パートナーシップ」。
    *   変更影響度: 画像の品質に直接影響するため、変更はユーザー体験に大きく影響する。

*   **UI 操作サブドメイン (UI/Presentation Context)**
    *   ビジネス価値: ユーザーがピクセル単位で正確に操作できるよう支援する。製品の使いやすさに直結するが、直接的な差別化要素ではない。
    *   代替可能性: UIフレームワークの機能や一般的なUIコンポーネントで大部分は代替可能。
    *   ドメイン知識: 画面上のピクセル座標・領域、拡大表示率の管理など、ドメイン知識は存在するが、描画や画像処理ほどではない。
    *   他機能との関係: Application Contextに依存し、ドメイン層の操作をUIにマッピングする。
    *   変更影響度: UIの変更はユーザー体験に影響するが、コアロジックへの影響は限定的。

*   **アンドゥ/リドゥサービス (UndoSystem)**
    *   ビジネス価値: 編集履歴の保証は、ユーザーの安心感と操作の自由度を高める。製品の基本的な信頼性に関わる。
    *   代替可能性: 汎用的なアンドゥ/リドゥシステムは存在するが、`Picture` の不変性モデルと連携させるにはカスタマイズが必要。
    *   ドメイン知識: `Picture` の不変性を利用した履歴管理は、ドット絵特有のデータ構造に密接に関連する。
    *   他機能との関係: ほぼ全ての編集操作に影響する。
    *   変更影響度: システムの安定性、信頼性に直結するため、変更は広範囲に影響する。

*   **Application Context**
    *   ビジネス価値: ユースケースを調整し、ドメイン層オブジェクトをオーケストレーションする。製品の機能を実現するための接着剤。
    *   代替可能性: アプリケーション層のオーケストレーションは、フレームワークや設計パターンに依存するが、特定のOSSで代替できるものではない。
    *   ドメイン知識: ドメイン層のオブジェクトをどのように組み合わせてユースケースを実現するかという、アプリケーション固有の知識が含まれる。
    *   他機能との関係: UI/Presentation Contextとドメインコンテキスト群の間に位置し、両者を連携させる。
    *   変更影響度: 編集ワークフロー全体を管理するため、変更は広範囲に影響する。

## 分類結果: Generic

### 判定理由

*   **ファイルの読み書き (File Management Context)**
    *   ビジネス価値: ファイルの永続化は、アプリケーションの基本的な機能。製品の利用可能性に不可欠。
    *   代替可能性: PNG, GIFなどの画像形式の読み書きは、既存のライブラリで代替可能。ACTなどのパレット形式は一部固有だが、ファイルI/O自体は汎用的。
    *   ドメイン知識: ファイル形式の解析・変換に関する知識は必要だが、ドット絵固有のロジックは少ない。
    *   他機能との関係: Application Contextを介して利用され、入出力を行う。他のコンテキストから独立した「汎用サブドメイン」と明記されている。
    *   変更影響度: ファイル形式の変更は影響が大きいが、ファイルI/Oの基盤自体は安定している。
