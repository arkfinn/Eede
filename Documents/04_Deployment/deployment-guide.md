# Eede デプロイメントガイド

## 1. 概要

このガイドでは、Eede アプリケーションのビルド、パッケージング、配布プロセスについて説明します。

## 2. 必要条件

### 2.1 開発環境

- Visual Studio 2022 以上
- .NET SDK 7.0 以上
- Git
- Windows 10/11（開発環境）

### 2.2 ビルドツール

- MSBuild 17.0 以上
- NuGet パッケージマネージャー
- Windows 向けビルドツール

## 3. ビルドプロセス

### 3.1 ソースコードの取得

```bash
# リポジトリのクローン
git clone [repository-url]
cd Eede

# 依存パッケージの復元
dotnet restore
```

### 3.2 構成の設定

- `appsettings.json` の確認
- 環境変数の設定
- ビルド構成の選択（Debug/Release）

### 3.3 ビルドの実行

```bash
# Debug ビルド
dotnet build

# Release ビルド
dotnet build -c Release
```

## 4. パッケージング

### 4.1 配布パッケージの作成

```bash
# シングルファイル実行可能ファイルの作成
dotnet publish -c Release -r win-x64 --self-contained true /p:PublishSingleFile=true

# 出力ディレクトリ
# bin/Release/net7.0/win-x64/publish/
```

### 4.2 必要なファイル

- メイン実行ファイル（Eede.exe）
- 設定ファイル
- リソースファイル
- ライセンスファイル
- ReadMe.txt

### 4.3 パッケージの構造

```
Eede-vX.Y.Z/
├── Eede.exe
├── appsettings.json
├── Assets/
│   ├── logo.png
│   └── Tiles/
├── LICENSE
└── README.txt
```

## 5. 配布プロセス

### 5.1 バージョン管理

- セマンティックバージョニングの使用
- CHANGELOG の更新
- バージョン番号の更新

### 5.2 配布パッケージの作成

1. リリースビルドの実行
2. パッケージの zip 圧縮
3. チェックサムの生成

```bash
# パッケージの圧縮
Compress-Archive -Path "bin\Release\net7.0\win-x64\publish\*" -DestinationPath "Eede-v1.0.0.zip"

# チェックサムの生成
Get-FileHash "Eede-v1.0.0.zip" -Algorithm SHA256 > "Eede-v1.0.0.zip.sha256"
```

### 5.3 配布チャンネル

- GitHub Releases
- 公式 Web サイト
- 自動更新システム

## 6. インストール手順

### 6.1 システム要件

- Windows 10/11（64 ビット）
- 4GB 以上の RAM
- 500MB 以上の空きディスク容量
- DirectX 11 対応グラフィックス

### 6.2 インストール手順

1. 配布パッケージのダウンロード
2. チェックサムの検証
3. zip 解凍
4. 任意の場所に配置

### 6.3 初回起動時の設定

1. アプリケーションの起動
2. 初期設定ウィザードの実行
3. 必要な権限の確認

## 7. 更新プロセス

### 7.1 自動更新

1. 起動時の更新確認
2. 新バージョンのダウンロード
3. アプリケーションの再起動

### 7.2 手動更新

1. 新バージョンのダウンロード
2. 既存のバージョンのバックアップ
3. 新バージョンの展開

## 8. トラブルシューティング

### 8.1 一般的な問題

- 起動エラー
- DLL エラー
- 権限エラー

### 8.2 ログの確認

- アプリケーションログの場所
- エラーログの解析
- 問題の切り分け

## 9. ロールバック手順

### 9.1 バックアップからの復元

1. バックアップの確認
2. 現在のバージョンの退避
3. バックアップの復元

### 9.2 クリーンインストール

1. アプリケーションの完全削除
2. 設定ファイルのクリーンアップ
3. 新規インストール

## 10. セキュリティ考慮事項

### 10.1 署名の検証

- デジタル署名の確認
- チェックサムの検証
- マルウェアスキャン

### 10.2 権限の管理

- 必要最小限の権限
- セキュアな設定
- アクセス制御

## 11. パフォーマンスモニタリング

### 11.1 監視項目

- メモリ使用量
- CPU 使用率
- ディスク I/O
- 起動時間

### 11.2 最適化

- キャッシュの管理
- 一時ファイルのクリーンアップ
- リソースの解放

## 付録

### A. デプロイメントチェックリスト

- [ ] ソースコードの最新化
- [ ] 依存関係の確認
- [ ] ビルド成功の確認
- [ ] テストの実行
- [ ] バージョン番号の更新
- [ ] ドキュメントの更新
- [ ] パッケージの作成
- [ ] チェックサムの生成
- [ ] 配布パッケージのテスト

### B. 重要なパス

```
アプリケーション: [Drive]:\[ExampleDirectory]\Eede
設定ファイル: %APPDATA%\Eede
ログファイル: %LOCALAPPDATA%\Eede\Logs
一時ファイル: %TEMP%\Eede
```

このドキュメントは、デプロイメントプロセスの変更や改善に応じて更新されます。
