# Feature: アプリケーション設定 (Settings & Preferences)

## 1. Overview
ユーザーの好みに応じた作業環境のカスタマイズ機能を提供します。視覚的な快適性を高めるテーマ設定や、精密な作業を支えるキャンバス設定が含まれます。

## 2. Data Model

### 2.1 ArgbColor
色の表現に使用する基本モデル。UI フレームワーク（Avalonia）から独立した形式で定義されています。

### 2.2 GlobalState
アプリケーション全体で共有される設定情報の集約。
- `Theme`: 現在の UI テーマ（Light/Dark）
- `MinCursorSize`: ブラシ等の最小サイズ設定

## 3. Logic & Behavior

### 3.1 テーマ切り替え
- **ライト/ダークモード**: システム設定または手動選択により、アプリ全体のカラースキームを切り替えます。
- **反映ロジック**: `MainViewModel` で保持するテーマ状態に基づき、`App.axaml` に定義された `FluentTheme` のプロパティを動的に更新します。

### 3.2 キャンバス背景設定
- **背景色**: 作業エリアの透明部分の表示方法を設定します。
    - **透明**: デフォルトのチェッカーフラッグ模様。
    - **固定色**: ユーザーが指定した任意の ArgbColor。

## 4. Constraints

- **永続化**: JSON 形式の設定ファイル（`settings.json`）をユーザーの AppData フォルダに保存することで、アプリケーション終了後も設定を保持します。現在はグリッドサイズ（幅・高さ）の永続化に対応しています。
