<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:common="clr-namespace:Eede.Presentation.Common">
  <Design.PreviewWith>
    <Border Padding="20">
      <!-- Add Controls for Previewer Here -->
    </Border>
  </Design.PreviewWith>

  <Style Selector="Button.tool">
    <Setter Property="HorizontalContentAlignment" Value="Center"/>
    <Setter Property="VerticalContentAlignment" Value="Center"/>
    <Setter Property="Background" Value="#00000000" />
    <Setter Property="BorderBrush" Value="#00000000" />
    <Setter Property="Width" Value="22" />
    <Setter Property="Height" Value="22" />
    <Setter Property="Padding" Value="1" />
  </Style>
  <Style Selector="Button.tool > Image">
    <Setter Property="Margin" Value="2" />
    <Setter Property="Width" Value="16" />
    <Setter Property="Height" Value="16" />
  </Style>
  <Style Selector="Button.tool:disabled">
    <Setter Property="Opacity" Value="0.5"/>
  </Style>
  <Style Selector="ToggleButton.tool">
    <Setter Property="HorizontalContentAlignment" Value="Center"/>
    <Setter Property="VerticalContentAlignment" Value="Center"/>
    <Setter Property="Background" Value="#00000000" />
    <Setter Property="BorderBrush" Value="#00000000" />
    <Setter Property="Width" Value="22" />
    <Setter Property="Height" Value="22" />
    <Setter Property="Padding" Value="1" />
  </Style>
  <Style Selector="ToggleButton.tool > Image">
    <Setter Property="Margin" Value="2" />
    <Setter Property="Width" Value="16" />
    <Setter Property="Height" Value="16" />
  </Style>

  <Style Selector="Button.tool:pointerover">
    <Setter Property="Background" Value="{DynamicResource SystemAccentColorLight3Brush}" />
  </Style>
  <Style Selector="ToggleButton.tool:checked">
    <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
    <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
    <Setter Property="Foreground" Value="{DynamicResource RegionBrush}" />
  </Style>
  <Style Selector="ToggleButton.tool:checked:pointerover">
    <Setter Property="Background" Value="{DynamicResource SystemAccentColorLight1Brush}" />
    <Setter Property="BorderBrush" Value="{DynamicResource SystemAccentColorLight1Brush}" />
  </Style>
  <Style Selector="ToggleButton.tool:checked Image">
    <!-- Image color inversion if needed (not easy in XAML without effects) -->
  </Style>

  <!-- Tab Visuals (Simple Underline Style) -->
  <Style Selector="TabItem">
    <Setter Property="FontSize" Value="12" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="Padding" Value="12,6" />
    <Setter Property="MinHeight" Value="0" />
    <Setter Property="VerticalAlignment" Value="Center" />
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
    <Setter Property="BorderBrush" Value="Transparent" />
  </Style>
  <Style Selector="TabItem:selected">
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
  </Style>
  <Style Selector="TabItem:selected /template/ ContentPresenter#PART_ContentPresenter">
    <Setter Property="TextBlock.Foreground" Value="{DynamicResource TextBrush}" />
  </Style>
  <!-- Highlight the underline (Pipe) with Accent Color - Ensuring it hits Dock Tabs too -->
  <Style Selector="TabItem:selected /template/ Border#PART_SelectedPipe">
    <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
    <Setter Property="IsVisible" Value="True" />
    <Setter Property="Height" Value="3" />
    <Setter Property="Margin" Value="2,0" />
    <Setter Property="Opacity" Value="1.0" />
  </Style>
  <!-- Catch any other borders used as selected indicators in Dock -->
  <Style Selector="TabItem:selected /template/ Border">
    <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
  </Style>
  <Style Selector="TabItem:pointerover">
    <Setter Property="Background" Value="{DynamicResource SystemAccentColorLight3Brush}" />
  </Style>

  <!-- Global Accent Color Overrides for Input Controls -->
  <Style Selector="ComboBox:focus /template/ Border#HighlightLayer">
    <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
  </Style>
  <Style Selector="ListBoxItem:selected /template/ ContentPresenter#PART_ContentPresenter">
    <Setter Property="Background" Value="{DynamicResource SystemAccentColorLight3Brush}" />
  </Style>

  <Style Selector="RepeatButton.allow">
    <Setter Property="Height" Value="20" />
    <Setter Property="Width" Value="24" />
    <Setter Property="Padding" Value="6 5 6 6" />
    <Setter Property="HorizontalAlignment" Value="Center" />
  </Style>
  <Style Selector="Polygon.button-shape">
    <Setter Property="Points" Value="0,0 10,0 5,7"/>
    <Setter Property="Fill" Value="{DynamicResource TextBrush}" />
  </Style>

  <Style Selector="Panel.horizontal-separator">
    <Setter Property="Margin" Value="4,0" />
    <Setter Property="Width" Value="2" />
    <Setter Property="Height" Value="16" />
    <Setter Property="Background" Value="{DynamicResource BaseBrush}" />
  </Style>
  <Style Selector="Panel.vertical-separator">
    <Setter Property="Margin" Value="4,0" />
    <Setter Property="Width" Value="16" />
    <Setter Property="Height" Value="2" />
    <Setter Property="Background" Value="{DynamicResource BaseBrush}" />
  </Style>

  <Style Selector="PathIcon.icon">
    <Setter Property="Width" Value="16" />
    <Setter Property="Height" Value="16" />
    <Setter Property="Margin" Value="2" />
    <Setter Property="common:RenderOptionsHelper.EdgeMode" Value="Aliased" />
  </Style>

  <!-- Dialog Buttons Styles -->
  <Style Selector="Button.primary">
    <Setter Property="Background" Value="{DynamicResource PrimaryBrush}" />
    <Setter Property="Foreground" Value="{DynamicResource AccentContrastBrush}" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
    <Setter Property="HorizontalContentAlignment" Value="Center"/>
    <Setter Property="VerticalContentAlignment" Value="Center"/>
    <Setter Property="Padding" Value="12,4"/>
  </Style>
  <!-- Base state background for hit testing (Ensuring button area is filled) -->
  <Style Selector="Button.primary /template/ ContentPresenter#PART_ContentPresenter">
    <Setter Property="Background" Value="{Binding $parent[Button].Background}" />
  </Style>
  <!-- Hover, Focus and Focus-Visible states (統一したハイライト色) -->
  <Style Selector="Button.primary:pointerover,
                   Button.primary:focus,
                   Button.primary:focus-visible">
    <Setter Property="Background" Value="{DynamicResource SystemAccentColorLight2Brush}" />
    <Setter Property="BorderBrush" Value="{DynamicResource SystemAccentColorLight2Brush}" />
  </Style>
  <!-- ContentPresenter handles visual states by using parent's Background -->
  <Style Selector="Button.primary:pointerover /template/ ContentPresenter#PART_ContentPresenter,
                   Button.primary:focus /template/ ContentPresenter#PART_ContentPresenter,
                   Button.primary:focus-visible /template/ ContentPresenter#PART_ContentPresenter">
    <Setter Property="Background" Value="{Binding $parent[Button].Background}" />
    <Setter Property="Foreground" Value="{DynamicResource AccentContrastBrush}" />
    <Setter Property="BorderBrush" Value="{Binding $parent[Button].BorderBrush}" />
  </Style>
  <Style Selector="Button.primary:pressed">
    <Setter Property="Background" Value="{DynamicResource SystemAccentColorDark1Brush}" />
    <Setter Property="BorderBrush" Value="{DynamicResource SystemAccentColorDark1Brush}" />
  </Style>
  <Style Selector="Button.primary:pressed /template/ ContentPresenter#PART_ContentPresenter">
    <Setter Property="Background" Value="{Binding $parent[Button].Background}" />
    <Setter Property="Foreground" Value="{DynamicResource AccentContrastBrush}" />
    <Setter Property="BorderBrush" Value="{Binding $parent[Button].BorderBrush}" />
  </Style>
  <Style Selector="Button.primary:disabled /template/ ContentPresenter#PART_ContentPresenter">
    <Setter Property="Background" Value="{DynamicResource SystemAccentColorLight3Brush}" />
    <Setter Property="Opacity" Value="0.5" />
  </Style>
</Styles>