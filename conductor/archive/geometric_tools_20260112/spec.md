# Track Specification: 図形ツール（四角・丸）の実装

## 1. 概要
直線ツールと同様の操作感で、四角形および円形（楕円）を描画できるツールを追加する。
ドット絵制作において頻用される基本的な幾何学図形の描画をサポートし、作業効率を向上させる。

## 2. 機能要件

### 2.1 新規ツールの追加
以下の4つのツールを `IDrawStyle` として実装する。
- **四角形ツール (Rectangle):** 始点と終点を対角線とする矩形の枠線を描画する。
- **塗りつぶし四角形ツール (Filled Rectangle):** 始点と終点を対角線とする矩形を塗りつぶしで描画する。
- **円形ツール (Ellipse):** 始点と終点を対角線とする矩形に内接する楕円の枠線を描画する。
- **塗りつぶし円形ツール (Filled Ellipse):** 始点と終点を対角線とする矩形に内接する楕円を塗りつぶしで描画する。

### 2.2 描画仕様
- **Shiftキー制約:** 
  - 四角形ツール：正方形に制約される。
  - 円形ツール：正円に制約される。
- **線の太さ:** 現在選択されているペンサイズ (`PenStyle.Size`) を反映する。
- **操作:** 直線ツールと同様、ドラッグ中にプレビューを表示し、ドロップで確定（描画）する。

### 2.3 UI/UX
- **ツールバーへの統合:** 
  - メインのツールバーに独立した4つのボタンを追加する。
- **新規アイコンの作成:**
  - 各ツールに対応するアイコン（PNG形式）を作成し、ツールバーに表示する。
  - 既存の `pen_line.png` 等とスタイルを合わせる。

## 3. 非機能要件
- **パフォーマンス:** ドラッグ中のプレビュー描画がスムーズであること。
- **保守性:** `IDrawStyle` インターフェースを継承し、既存の描画ロジック（`Drawer`等）を極力再利用する。

## 4. 受け入れ条件
- [ ] 四角形、塗りつぶし四角形、円形、塗りつぶし円形が正しく描画できること。
- [ ] Shiftキーによる正方形・正円への制約が機能すること。
- [ ] ペンサイズを変更した際、枠線の太さが正しく変化すること。
- [ ] ツールバーに新しいアイコンが表示され、クリックで切り替えられること。
- [ ] 既存の直線ツールやペンツールの動作に影響を与えないこと。

## 5. アウトオブスコープ (Out of Scope)
- 自由な角度への回転描画。
- アンチエイリアス処理（ドット単位の描画を優先）。
- 中心からの描画（Ctrlキー併用など）。
- 多角形や角丸四角形などの追加図形。
